@page "/admin"

@using JobAgent.Services
@using JobAgent.Components.Redirect

@inject SecurityService SecurityService

@attribute [Authorize]

<AuthorizeView>
    <Authorized>
        @* Welcome Admin Page Title *@
        <PageTitle Title=@AdminUserMessage />

        <BSButton Id="tooltip3">Left</BSButton>
        <BSTooltip Target="tooltip3" Placement="Placement.Left">Tooltip on Left</BSTooltip>

    </Authorized>
    <NotAuthorized>
        <RedirectToHomeComponent />
    </NotAuthorized>
</AuthorizeView>

@code {
    [CascadingParameter]
    private Task<AuthenticationState> AuthenticationState { get; set; }

    private string AdminUserMessage { get; set; }
    private string AdminName { get; set; }

    protected override async Task OnInitializedAsync()
    {
        AdminName = (await AuthenticationState).User.Identity.Name;

        AdminUserMessage = $"Velkommen, {AdminName}";
    }
}